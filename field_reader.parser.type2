#!/usr/bin/env bash
#> формат ридер, для встроенной документации
#>> типа: 
#>> OUT:
#>>  - do not print, because empty line after comments #>>
#>> | field | descr | # not print, becauce 'fiels'
#>> |-------|-------| # not print, because '---'
#>> | lala  | bubu | # capture 'lala'

perl -lane'$pri=1 if m|\s*\#\>\>\s*OUT|i .. m|^\s*$|; $pri=0 if not /\|/; $pri=0 if m/out|field|---|\#\>\>\s+\Z/i; ($f)=m/\|\s*(\w+).*?\s*\|/; print $f if $pri' $*

